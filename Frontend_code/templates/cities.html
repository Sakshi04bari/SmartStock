{% extends "base.html" %}
{% block title %}Cities - SmartStock{% endblock %}
{% block content %}
<div class="row mb-5">
    <div class="col-12">
        <h1 class="display-5 fw-bold mb-1"><i class="fas fa-city text-info"></i> Cities</h1>
        <p class="text-muted mb-4">{{ cities|length }} cities across India</p>
    </div>
</div>

<!-- Search -->
<div class="row mb-4">
    <div class="col-md-6">
        <form method="GET">
            <div class="input-group">
                <input type="text" class="form-control glass-input" name="search" value="{{ search }}" placeholder="Search cities...">
                <button class="btn glass-btn" type="submit"><i class="fas fa-search"></i></button>
            </div>
        </form>
    </div>
</div>

<!-- Cities Grid -->
<div class="row g-4">
    {% for city in cities %}
    <div class="col-md-6 col-lg-4">
        <div class="card glass-card h-100 border-0 shadow-lg text-center">
            <div class="card-body py-5">
                <i class="fas fa-building fa-3x text-info mb-3"></i>
                <h3 class="fw-bold mb-2">{{ city.cityname }}</h3>
                <p class="text-muted mb-3">Store Count: {{ city.store_count or 0 }}</p>
                <!-- ðŸ”¥ FIXED LINK -->
                <a href="{{ url_for('city_stores_page', cityid=city.cityid) }}" class="btn glass-btn">
                    <i class="fas fa-store me-2"></i>View Stores
                </a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
